<script language="javascript">
var max_time = 10;
var cinterval;

function ajax_score(t,direct){
    id=jQuery(t).attr('data-id');
    jQuery.ajax({method:'post',url:'{{=URL('SetScore')}}',
                data:{'id':id,'direct':direct},
                success:function(data){
                jQuery(t).('#score').html(data);
    }});
    }
    jQuery(function(){
        jQuery('.plus').click(function(){ajax_score(this);});
        jQuery('.down').click(function(){ajax_score(this,false);})
                                     });
function countdown_timer(){
  // decrease timer
  max_time--;
  document.getElementById('countdown').innerHTML = max_time;
  if(max_time == 0){
    clearInterval(cinterval);
      $('#countdown').hide();
      $('#respuesta').show();
      $('#participantes').show();
  }
};
    function respuesta(){
        $('#respuesta').hide();
        $('#resultado').show();
    }
// 1,000 means 1 second.
cinterval = setInterval('countdown_timer()', 1000);
</script>

<div class="modal-header">
	<a class="close" data-dismiss="modal">&times;</a>
	<h3>Pregunta</h3>
</div>


<div class="modal-body">
	<h2>{{=Pregunta[0].pregunta}}</2>
    <h1 id="countdown" style="text-align: center">10</h1>
    <div id="respuesta" style="display:none"><button onclick="respuesta()" class="btn btn-info">Ver Respuesta</button></div>
    <div id="resultado" style="display:none"><h4>Respuesta: {{=Pregunta[0].respuesta}}</h4></div>
    <div id="participantes" style="display:none">
    {{for participante in session.Equipos:}}
    <div id="participante" class="well"><h4 class="span1">{{=participante.Nombre}}</h4><button data-id="{{=participante.id}}" class="span1 plus"><i class="icon-ok"></i></button><button class="span1 down" data-id="{{=participante.id}}"><i class="icon-remove"></i></button>
    <div class="span1">X{{=participante.racha}}</div><div classs="span1" id="score">Score:{{=participante.score}}</div>
</div>
 {{pass}}
</div>
<div class="modal-footer">
	<a class="btn" data-dismiss="modal">Cerrar</a>
</div>
